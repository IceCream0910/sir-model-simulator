var graphSketch=function(a){function p(b){var k=g.height,f=k/b,c;return{drawLines:function(b){c={SUSCEPTIBLE:0,INFECTIOUS:0,RECOVERED:0};b.forEach(function(a){switch(a){case h.SUSCEPTIBLE:++c.SUSCEPTIBLE;break;case h.INFECTIOUS:++c.INFECTIOUS;break;case h.RECOVERED:++c.RECOVERED}});for(var d in h)a.stroke(l[d].r,l[d].g,l[d].b),b=c[d],a.line(m,Math.floor(k-f*n[d]),e,Math.floor(k-f*b)),n[d]=b;m=e;0===c.INFECTIOUS&&a.noLoop()}}}var b,q=screen.availWidth-32,g=672<screen.availWidth?{width:640,height:200}:
{width:q,height:200},e=0,h=sirsim.getStatus(),l={SUSCEPTIBLE:{r:255,g:255,b:0},INFECTIOUS:{r:255,g:0,b:0},RECOVERED:{r:0,g:255,b:0}},f,m=0,n={SUSCEPTIBLE:0,INFECTIOUS:0,RECOVERED:0};a.setup=function(){b=a.createCanvas(g.width,g.height);b.id("graph-canvas");b.parent("graph-container");a.frameRate(6);a.reset()};a.reset=function(){a.background(255);m=e=0;n={SUSCEPTIBLE:0,INFECTIOUS:0,RECOVERED:0};f=p(sirsim.getNumberOfBalls());a.strokeWeight(4);a.loop()};a.draw=function(){e+=3;e==g.width?a.noLoop():
f.drawLines(sirsim.getStatusArray())}};
