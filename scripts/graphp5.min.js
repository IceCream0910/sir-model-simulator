var graphSketch=function(a){function q(b){var c=h.height,p=c/b,d;return{drawLines:function(b){d={SUSCEPTIBLE:0,INFECTIOUS:0,RECOVERED:0};b.forEach(function(a){switch(a){case k.SUSCEPTIBLE:++d.SUSCEPTIBLE;break;case k.INFECTIOUS:++d.INFECTIOUS;break;case k.RECOVERED:++d.RECOVERED}});for(var e in k)a.stroke(l[e].r,l[e].g,l[e].b),b=d[e],a.line(m,Math.floor(c-p*n[e]),g,Math.floor(c-p*b)),n[e]=b;m=g;0===d.INFECTIOUS&&(f=!1,a.noLoop())}}}var b,r=screen.availWidth-32,h=672<screen.availWidth?{width:640,height:200}:
{width:r,height:200},f=!0,g=0,k=sirsim.getStatus(),l={SUSCEPTIBLE:{r:255,g:255,b:0},INFECTIOUS:{r:255,g:0,b:0},RECOVERED:{r:0,g:255,b:0}},c,m=0,n={SUSCEPTIBLE:0,INFECTIOUS:0,RECOVERED:0};a.setup=function(){b=a.createCanvas(h.width,h.height);b.id("graph-canvas");b.parent("graph-container");document.addEventListener("reset-graph",function(){a.reset()});document.addEventListener("change-graph-play-status",function(){f?(f=!1,a.noLoop()):(f=!0,a.loop())});a.frameRate(6);a.reset()};a.reset=function(){f=
!0;a.background(255);m=g=0;n={SUSCEPTIBLE:0,INFECTIOUS:0,RECOVERED:0};c=q(sirsim.getNumberOfBalls());a.strokeWeight(4);a.loop()};a.getLD=function(){return c};a.draw=function(){g+=3;g==h.width?(f=!1,a.noLoop()):c.drawLines(sirsim.getStatusArray())}};
