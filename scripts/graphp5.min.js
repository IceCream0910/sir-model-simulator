var graphSketch=function(a){function p(b){var c=g.height,n=c/b,d;return{drawLines:function(b){d={SUSCEPTIBLE:0,INFECTIOUS:0,RECOVERED:0};b.forEach(function(a){switch(a){case h.SUSCEPTIBLE:++d.SUSCEPTIBLE;break;case h.INFECTIOUS:++d.INFECTIOUS;break;case h.RECOVERED:++d.RECOVERED}});for(var e in h)a.stroke(k[e].r,k[e].g,k[e].b),b=d[e],a.line(l,Math.floor(c-n*m[e]),f,Math.floor(c-n*b)),m[e]=b;l=f;0===d.INFECTIOUS&&a.noLoop()}}}var b,q=screen.availWidth-32,g=672<screen.availWidth?{width:640,height:200}:
{width:q,height:200},f=0,h=sirsim.getStatus(),k={SUSCEPTIBLE:{r:255,g:255,b:0},INFECTIOUS:{r:255,g:0,b:0},RECOVERED:{r:0,g:255,b:0}},c,l=0,m={SUSCEPTIBLE:0,INFECTIOUS:0,RECOVERED:0};a.setup=function(){b=a.createCanvas(g.width,g.height);b.id("graph-canvas");b.parent("graph-container");a.frameRate(6);a.reset()};a.reset=function(){a.background(255);l=f=0;m={SUSCEPTIBLE:0,INFECTIOUS:0,RECOVERED:0};c=p(sirsim.getNumberOfBalls());a.strokeWeight(4);a.loop()};a.getLD=function(){return c};a.draw=function(){f+=
3;f==g.width?a.noLoop():c.drawLines(sirsim.getStatusArray())}};
